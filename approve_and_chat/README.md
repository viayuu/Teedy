# Teedy增强功能平台

这个项目为Teedy文档管理系统提供额外的功能扩展，包括：

1. **用户注册申请与审批系统**：允许访客向管理员发送注册请求，管理员可以批准或拒绝这些请求
2. **群组实时聊天功能**：允许同一群组的用户进行实时聊天通信

## 功能特性

### 注册申请系统

- 访客可以提交注册申请表单
- 管理员可以查看和处理注册申请
- 支持批准申请(创建新用户)或拒绝申请
- 使用Express服务器自动保存数据到本地文件

### 群组聊天功能

- 自动获取用户所在群组
- 显示群组成员的在线状态
- 实时聊天消息发送和接收
- 聊天记录持久化存储

## 技术架构

- **前端**：Vue 3 + Bootstrap 5
- **通信**：Axios用于API调用
- **后端**：
  - 数据服务器(data-server.js)：处理注册申请数据
  - 聊天服务器(chat-server.js)：处理聊天和用户状态

## 安装与运行

### 安装依赖

```bash
npm install
```

### 运行开发环境

```bash
# 同时启动所有服务(前端+数据服务器+聊天服务器)
npm run start-all

# 也可以分别启动
# 启动前端开发服务器
npm run dev

# 启动数据服务器
npm run server

# 启动聊天服务器
npm run chat-server
```

### 构建生产版本

```bash
npm run build
```

## 服务端口

- **前端应用**：http://localhost:3000
- **数据服务器**：http://localhost:3001
- **聊天服务器**：http://localhost:3002

## 数据存储

数据以JSON文件形式存储在本地：

- 注册申请：`data/registrations.json`
- 在线用户：`data/online_users.json`
- 群组聊天记录：`data/chat_logs/group_chats/{groupName}.json`

## 与Teedy集成

该系统设计为与Teedy文档管理系统无缝集成：

1. 通过Teedy API创建新用户(当管理员批准注册申请时)
2. 从Teedy获取群组和用户信息(用于聊天功能)

## 生产环境部署

在生产环境中部署时，建议：

1. 配置适当的身份验证机制
2. 设置数据库而非文件存储(可选)
3. 确保前端路由与Teedy系统兼容 